include(ExternalProject)

SET (RUFUS_DEPENDENCIES)

include(zlib.cmake)
LIST(APPEND RUFUS_DEPENDENCIES ${ZLIB_PROJECT})
include(rufalu.cmake)
LIST(APPEND RUFUS_DEPENDENCIES ${RUFALU_PROJECT})
include(bwa.cmake)
LIST(APPEND RUFUS_DEPENDENCIES ${BWA_PROJECT})
include(bedtools2.cmake)
LIST(APPEND RUFUS_DEPENDENCIES ${BEDTOOLS2_PROJECT})
include(fastahack.cmake)
LIST(APPEND RUFUS_DEPENDENCIES ${FASTAHACK_PROJECT})
include(jellyfish.cmake)
LIST(APPEND RUFUS_DEPENDENCIES ${JELLYFISH_PROJECT})



SET(RUFUS_SOURCE_DIR ${CMAKE_SOURCE_DIR}/bin/externals/external CACHE INTERNAL "" FORCE)

SET(RUFUS_EXTERNAL_PROJECT_DIR ${CMAKE_BINARY_DIR}/externals/rufus_external_project CACHE INTERNAL "external project directory")
SET(RUFUS_EXTERNAL_PROJECT rufus_external_project CACHE INTERNAL "all rufus external projects")

ExternalProject_Add(${RUFUS_EXTERNAL_PROJECT}
	DEPENDS ${RUFUS_DEPENDENCIES}
	DOWNLOAD_COMMAND ""
	SOURCE_DIR ${RUFUS_SOURCE_DIR}
	BINARY_DIR ${RUFUS_EXTERNAL_PROJECT_DIR}/bin
	INSTALL_COMMAND ""
	UPDATE_COMMAND ""
	CMAKE_CACHE_ARGS
		-DCMAKE_C_COMPILER:STRING=${CMAKE_C_COMPILER}
        	-DCMAKE_CXX_COMPILER:STRING=${CMAKE_CXX_COMPILER}
)
